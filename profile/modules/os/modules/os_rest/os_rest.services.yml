services:
  os_rest.media:
    class: Drupal\os_rest\Normalizer\OsMediaNormalizer
    tags:
      - { name: normalizer, priority: 2 }
    arguments: ['@entity.manager', '@entity_type.manager', '@current_route_match', '@file_system', '@os_media.media_helper']
  os_rest.content_type_header_matcher:
    class: Drupal\os_rest\Routing\ContentTypeHeaderMatcher
    public: false
    decorates: content_type_header_matcher
    decoration_priority: 1
  os_rest.user:
    class: Drupal\os_rest\Normalizer\OsUserNormalizer
    tags:
      - { name: normalizer, priority: 2 }
    arguments: ['@entity.manager', '@vsite.context_manager']
  os_rest.group:
    class: Drupal\os_rest\Normalizer\OsGroupNormalizer
    tags:
      - { name: normalizer, priority: 2}
    arguments: ['@entity.manager']
  os_rest.entities_deleted:
    class: Drupal\os_rest\OsRestEntitiesDeleted
    arguments: ['@database', '@module_handler', '@datetime.time']
